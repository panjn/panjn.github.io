<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>一文了解Service Mesh - 面向问题编程</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="面向问题编程"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="面向问题编程"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="服务网格是一个基础设施层，用于处理服务间通信。云原生应用有着复杂的服务拓扑，服务网格保证请求在这些拓扑中可靠地穿梭。在实际应用当中，服务网格通常是由一系列轻量级的网络代理组成的，它们与应用程序部署在一起，但对应用程序透明。  Service Mesh具有如下优点：  屏蔽分布式系统通信的复杂性(负载均衡、服务发现、认证授权、监控追踪、流量控制等等)，服务只用关注业务逻辑； 真正的语言无关，服务"><meta property="og:type" content="blog"><meta property="og:title" content="一文了解Service Mesh"><meta property="og:url" content="https://www.heapoverflow.cn/pages/wiki-service-mesh/"><meta property="og:site_name" content="面向问题编程"><meta property="og:description" content="服务网格是一个基础设施层，用于处理服务间通信。云原生应用有着复杂的服务拓扑，服务网格保证请求在这些拓扑中可靠地穿梭。在实际应用当中，服务网格通常是由一系列轻量级的网络代理组成的，它们与应用程序部署在一起，但对应用程序透明。  Service Mesh具有如下优点：  屏蔽分布式系统通信的复杂性(负载均衡、服务发现、认证授权、监控追踪、流量控制等等)，服务只用关注业务逻辑； 真正的语言无关，服务"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://www.heapoverflow.cn/img/vector_landscape_2.svg"><meta property="article:published_time" content="2022-03-20T09:29:08.594Z"><meta property="article:modified_time" content="2022-03-20T09:36:17.495Z"><meta property="article:author" content="面向问题编程"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/vector_landscape_2.svg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.heapoverflow.cn/pages/wiki-service-mesh/"},"headline":"一文了解Service Mesh","image":[],"datePublished":"2022-03-20T09:29:08.594Z","dateModified":"2022-03-20T09:36:17.495Z","author":{"@type":"Person","name":"面向问题编程"},"publisher":{"@type":"Organization","name":"面向问题编程","logo":{"@type":"ImageObject","url":"https://www.heapoverflow.cn/img/logo.svg"}},"description":"服务网格是一个基础设施层，用于处理服务间通信。云原生应用有着复杂的服务拓扑，服务网格保证请求在这些拓扑中可靠地穿梭。在实际应用当中，服务网格通常是由一系列轻量级的网络代理组成的，它们与应用程序部署在一起，但对应用程序透明。  Service Mesh具有如下优点：  屏蔽分布式系统通信的复杂性(负载均衡、服务发现、认证授权、监控追踪、流量控制等等)，服务只用关注业务逻辑； 真正的语言无关，服务"}</script><link rel="canonical" href="https://www.heapoverflow.cn/pages/wiki-service-mesh/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-ETGL163DQH" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-ETGL163DQH');</script><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><script data-ad-client="ca-pub-6757924689439593" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><link rel="stylesheet" href="/css/base.min.css"><link rel="stylesheet" href="/css/fancy.min.css"><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }
          Array
              .from(document.querySelectorAll('.tab-content'))
              .forEach($tab => {
                  $tab.classList.add('is-hidden');
              });
          Array
              .from(document.querySelectorAll('.tabs li'))
              .forEach($tab => {
                  $tab.classList.remove('is-active');
              });
          const $activeTab = document.querySelector(location.hash);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
          const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.0.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="面向问题编程" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/categories/%E9%97%AE%E9%A2%98/">问题</a><a class="navbar-item" href="/categories/%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84/">技术架构</a><a class="navbar-item" href="/categories/%E4%B8%80%E6%96%87%E4%BA%86%E8%A7%A3/">一文了解</a></div><div class="navbar-end"><a class="navbar-item" rel="noopener" title="分类" href="/categories">分类</a><a class="navbar-item" rel="noopener" title="标签" href="/tags">标签</a><a class="navbar-item" rel="noopener" title="归档" href="/archives">归档</a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="/img/vector_landscape_2.svg" alt="一文了解Service Mesh"></span></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-03-20T09:29:08.594Z" title="2022/3/20 下午5:29:08">2022-03-20</time>发表</span><span class="level-item"><time dateTime="2022-03-20T09:36:17.495Z" title="2022/3/20 下午5:36:17">2022-03-20</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E4%B8%80%E6%96%87%E4%BA%86%E8%A7%A3/">一文了解</a></span><span class="level-item">28 分钟读完 (大约4140个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">一文了解Service Mesh</h1><div class="content"><article class="message is-warning" style="font-size:inherit">
<div class="message-body">
服务网格是一个基础设施层，用于处理服务间通信。云原生应用有着复杂的服务拓扑，服务网格保证请求在这些拓扑中可靠地穿梭。在实际应用当中，服务网格通常是由一系列轻量级的网络代理组成的，它们与应用程序部署在一起，但对应用程序透明。

<p>Service Mesh具有如下优点：</p>
<ul>
<li>屏蔽分布式系统通信的复杂性(负载均衡、服务发现、认证授权、监控追踪、流量控制等等)，服务只用关注业务逻辑；</li>
<li>真正的语言无关，服务可以用任何语言编写，只需和Service Mesh通信即可；</li>
<li>对应用透明，Service Mesh组件可以单独升级；</article></li>
</ul>
<span id="more"></span>

<link rel="stylesheet" href="/css/wiki-service-mesh.css">

<div id="page-container">
<div id="pf1" class="pf w0 h0" data-page-no="1"><div class="pc pc1 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg1.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x1 h1 y1 ff1 fs0 fc0 sc0 ls0 ws0">2017</div><div class="t m0 x2 h2 y2 ff1 fs1 fc0 sc0 ls1 ws0">QC<span class="_ _0"></span>ON</div><div class="t m0 x3 h2 y3 ff1 fs1 fc0 sc0 ls1 ws0">Shanghai</div><div class="t m0 x4 h3 y4 ff1 fs2 fc1 sc0 ls1 ws0">Ser<span class="_ _1"></span>vice Mesh<span class="ff2">：下一代微<span class="_ _0"></span>服务</span></div><div class="t m0 x5 h4 y5 ff2 fs3 fc1 sc0 ls2 ws0">数人云 资深架构师<span class="_ _2"> </span>敖小剑</div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf2" class="pf w0 h0" data-page-no="2"><div class="pc pc2 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg2.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x6 h5 y6 ff2 fs4 fc0 sc0 ls2 ws0">前言</div><div class="t m0 x7 h6 y7 ff2 fs5 fc2 sc0 ls1 ws0">懵懂<span class="ff1 ls3">2014<span class="_ _3"> </span></span><span class="fs6 ls2">热点</span><span class="ff1">2015 <span class="_ _4"></span>  </span><span class="ls4">普及</span><span class="ff1">2016 <span class="_ _4"></span> </span>反省<span class="ff1 ls3">2017</span></div><div class="t m0 x8 h7 y8 ff3 fs7 fc0 sc0 ls1 ws0">在过去的三年中，微服务成为技术热点，大量互联<span class="_ _4"></span>网公司开始落地微服务架构<span class="_ _4"></span>，而对于传</div><div class="t m0 x8 h7 y9 ff3 fs7 fc0 sc0 ls1 ws0">统企业用户，以微服务和容器为核心的互联网技术<span class="_ _4"></span>转型已是大势所趋。</div><div class="t m0 x8 h7 ya ff4 fs7 fc0 sc0 ls1 ws0">Jav<span class="_ _0"></span>a<span class="ff3">社区中，伴随微服务大潮，以<span class="_ _5"> </span></span>Spring <span class="_ _4"></span>Cloud <span class="ff3">为代表的微服务开发框架迅速普及。</span></div><div class="t m0 x8 h7 yb ff3 fs7 fc0 sc0 ls1 ws0">而在 <span class="ff4">Spring <span class="_ _4"></span>Cloud </span>之外，新一代的微服务开发技术正在悄然<span class="_ _4"></span>兴起，这就是今天要给大家<span class="_ _4"></span>带</div><div class="t m0 x8 h7 yc ff3 fs7 fc0 sc0 ls1 ws0">来的 <span class="ff4">Ser<span class="_ _6"></span>vice <span class="_ _4"></span>Mesh</span>（服务网格）。</div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf3" class="pf w0 h0" data-page-no="3"><div class="pc pc3 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg3.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x9 h8 yd ff1 fs8 fc0 sc0 ls1 ws0">ser<span class="_ _7"></span>vice</div><div class="t m0 xa h9 ye ff1 fs9 fc0 sc0 ls1 ws0">mesh</div><div class="t m0 xb ha yf ff1 fsa fc0 sc0 ls1 ws0">1</div><div class="t m0 xc h2 y10 ff2 fs1 fc1 sc0 ls1 ws0">什么是<span class="ff1">Ser<span class="_ _6"></span>vice Mesh</span>？</div><div class="t m0 xd ha y11 ff1 fsa fc0 sc0 ls1 ws0">2</div><div class="t m0 xe h2 y12 ff1 fs1 fc1 sc0 ls1 ws0">Ser<span class="_ _6"></span>vice <span class="_ _4"></span>Mesh<span class="ff2">的演进历程</span></div><div class="t m0 xf hb y13 ff1 fsb fc0 sc0 ls1 ws0">3</div><div class="t m0 xc h2 y14 ff2 fs1 fc1 sc0 ls1 ws0">为何选择<span class="ff1">Ser<span class="_ _7"></span>vi<span class="_ _0"></span>ce Mesh<span class="ff2">？</span></span></div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf4" class="pf w0 h0" data-page-no="4"><div class="pc pc4 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg4.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x10 hc y15 ff1 fsc fc0 sc0 ls1 ws0">What</div><div class="t m0 x11 hd y16 ff2 fsd fc1 sc0 ls2 ws0">什么是<span class="ff1 ls1">Ser<span class="_ _7"></span>vice Mesh<span class="ff2">？</span></span></div><div class="t m0 x9 he y17 ff5 fse fc3 sc0 ls1 ws0">1</div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf5" class="pf w0 h0" data-page-no="5"><div class="pc pc5 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg5.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 hd y18 ff2 fsf fc4 sc0 ls2 ws0">这真的是一个<span class="fsd fc5 ls1">新</span>名词</div><div class="t m0 x13 hf y19 ff6 fs10 fc0 sc0 ls5 ws0">2016<span class="ff7 ls1">年<span class="ff6">9</span>月</span>29<span class="ff7 ls1">日在</span></div><div class="t m0 x14 hf y1a ff6 fs10 fc0 sc0 ls1 ws0">SF Micr<span class="_ _0"></span>oservices<span class="ff7">，</span></div><div class="t m0 x15 h10 y1b ff6 fs11 fc0 sc0 ls1 ws0">"service mesh"<span class="ff7 ls2">这个</span></div><div class="t m0 x15 hf y1c ff7 fs10 fc0 sc0 ls1 ws0">词汇第一次在公开</div><div class="t m0 x16 hf y1d ff7 fs10 fc0 sc0 ls1 ws0">场合使用。</div><div class="t m0 x17 h11 y1e ff2 fs12 fc6 sc0 ls1 ws0">最早使用</div><div class="t m0 x18 h12 y1f ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">Ser<span class="_ _4"></span>vice Mesh<span class="ff3">最早是由开发</span>Link<span class="_ _0"></span>erd<span class="ff3">的</span>Buoyant<span class="ff3">公</span></span></div><div class="t m0 x19 h12 y20 ff3 fs13 fc6 sc0 ls1 ws0">司提出，并在内部使用</div><div class="t m0 x18 h12 y21 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4 ls6">2016</span><span class="ff3">年<span class="ff4">9</span>月<span class="ff4 ls7">29</span>日第一次公开使用</span></div><div class="t m0 x18 h12 y22 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">信息来自<span class="ff4">Buoyant</span>公司的<span class="ff4">CEO Willian Morgan</span>的</span></div><div class="t m0 x19 h12 y23 ff4 fs13 fc6 sc0 ls1 ws0">twitter<span class="ff3">，在服务网格火了之后，他做了这次考古</span></div><div class="t m0 x12 h13 y24 ff2 fs14 fc6 sc0 ls2 ws0">国内翻译</div><div class="t m0 x1a h12 y25 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4 ls6">2017</span><span class="ff3">年初，随着<span class="ff4">Linke<span class="_ _0"></span>rd<span class="ff3">的传入，</span>S<span class="_ _0"></span>er<span class="_ _4"></span>vice <span class="_ _0"></span>Mesh</span></span></div><div class="t m0 x1b h14 y26 ff3 fs15 fc6 sc0 ls2 ws0">进入国内技术社区的视野</div><div class="t m0 x1a h12 y27 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">国内最早翻译为”服务啮合层”</span></div><div class="t m0 x1a h12 y28 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">但是这个词非常的拗口（不止我一个人这么觉得</span></div><div class="t m0 x1b h12 y29 ff3 fs13 fc6 sc0 ls1 ws0">吧<span class="ff9"></span>），后来逐渐改用”服务网格”</div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf6" class="pf w0 h0" data-page-no="6"><div class="pc pc6 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg6.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h15 y2a ffa fs16 fc4 sc0 ls1 ws0">Serv<span class="_ _9"></span>ice <span class="_ _4"></span>Mesh<span class="ff2">的定义</span></div><div class="t m0 x1c h11 y2b ff1 fs12 fc6 sc0 ls1 ws0">Willian <span class="_ _9"></span>Morgan <span class="_ _0"></span><span class="ff2">（<span class="ff1">Link<span class="_ _9"></span>erd<span class="ff2">的</span>CEO<span class="ff2">）给出的<span class="_ _0"></span>定义：</span></span></span></div><div class="t m0 x1d h12 y2c ff4 fs13 fc6 sc0 ls1 ws0">A ser<span class="_ _4"></span>vice mesh <span class="_ _9"></span>is a dedicated <span class="_ _9"></span>i<span class="_ _4"></span>nfrastr<span class="_ _0"></span>ucture <span class="_ _9"></span>l<span class="_ _4"></span>ay<span class="_ _9"></span>er f<span class="_ _4"></span>or handling <span class="_ _9"></span>ser<span class="_ _4"></span>vice<span class="_ _4"></span>-<span class="ls8">to</span>-<span class="ff3">ser<span class="_ _4"></span>vice communi<span class="_ _4"></span>cation. <span class="_ _9"></span>It’<span class="_ _9"></span>s r<span class="_ _9"></span>espon<span class="_ _4"></span>sible <span class="_ _9"></span>for the <span class="_ _9"></span>relia<span class="_ _4"></span><span class="ff4">ble </span></span></div><div class="t m0 x1d h12 y2d ff4 fs13 fc6 sc0 ls1 ws0">deliver<span class="_ _4"></span>y o<span class="_ _9"></span>f requests <span class="_ _9"></span>through the <span class="_ _0"></span>complex t<span class="_ _9"></span>o<span class="_ _4"></span>pology <span class="_ _0"></span>of <span class="_ _9"></span>ser<span class="_ _4"></span>vices that comprise a <span class="_ _9"></span>m<span class="_ _4"></span>odern, <span class="_ _9"></span>cloud native application. <span class="_ _9"></span>In practice, <span class="_ _4"></span>the</div><div class="t m0 x1d h12 y2e ff4 fs13 fc6 sc0 ls1 ws0">ser<span class="_ _4"></span>vice mesh <span class="_ _9"></span>is typically i<span class="_ _4"></span>mplemented <span class="_ _9"></span>as an <span class="_ _0"></span>array of <span class="_ _9"></span>l<span class="_ _4"></span>ightw<span class="_ _0"></span>eight network pr<span class="_ _9"></span>oxies that ar<span class="_ _9"></span>e deployed <span class="_ _0"></span>alongside application <span class="_ _9"></span>co<span class="_ _4"></span>de<span class="_ _4"></span><span class="ls9">, </span></div><div class="t m0 x1d h12 y2f ff4 fs13 fc6 sc0 ls1 ws0">without the application needing <span class="_ _9"></span>to be aw<span class="_ _0"></span>are.</div><div class="t m0 x1d h12 y30 ff3 fs13 fc6 sc0 ls1 ws0">服务网格是一个<span class="ff2">基础设施层</span>，用于处理服务间通信。云原生应用有着复杂的服务拓扑，服务网格负责在这些拓扑中<span class="ff2">实现请求的可靠传递</span>。</div><div class="t m0 x1d h12 y31 ff3 fs13 fc6 sc0 ls1 ws0">在实践中，服务网格通常实现为一组<span class="ff2">轻量级网络代理</span>，它们与应用程序部署在一起，而<span class="ff2">对应用程序透明</span>。</div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf7" class="pf w0 h0" data-page-no="7"><div class="pc pc7 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg7.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h15 y2a ff2 fs16 fc4 sc0 ls1 ws0">部署模型：单个服务调用，表现为<span class="ffa">sidecar</span></div><div class="t m0 x1e h16 y32 ff6 fs13 fc0 sc0 ls1 ws0">1. <span class="ff7">用简单的方式将</span></div><div class="t m0 x1e h16 y33 ff7 fs13 fc0 sc0 ls4 ws0">请求发送给本地的</div><div class="t m0 x1f h16 y34 ff6 fs13 fc0 sc0 ls1 ws0">service mesh<span class="_ _4"></span><span class="ff7">实例</span></div><div class="t m0 x20 h16 y35 ff6 fs13 fc0 sc0 ls1 ws0">3. Service mesh<span class="ff7">将请</span></div><div class="t m0 x21 h16 y36 ff7 fs13 fc0 sc0 ls1 ws0">求转发给目标服务</div><div class="t m0 x22 h16 y37 ff6 fs13 fc0 sc0 ls1 ws0">2. Service mesh<span class="ff7">进行服务发现</span></div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf8" class="pf w0 h0" data-page-no="8"><div class="pc pc8 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg8.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h15 y2a ffa fs16 fc4 sc0 ls1 ws0">Sidecar<span class="ff2">：<span class="_ _5"> </span>这个不是新名词</span></div><div class="t m0 x23 h17 y38 ff6 fs13 fc0 sc0 ls1 ws0">client</div><div class="t m0 x24 h17 y39 ff6 fs13 fc0 sc0 ls1 ws0">server</div><div class="t m0 x25 h17 y3a ff6 fs13 fc0 sc0 ls1 ws0">registry</div><div class="t m0 x26 h18 y3b ff6 fs17 fc7 sc0 ls1 ws0">1. regis<span class="_ _0"></span>ter</div><div class="t m0 x27 h18 y3c ff6 fs17 fc7 sc0 ls1 ws0">2. lookup</div><div class="t m0 x28 h18 y3d ff6 fs17 fc7 sc0 ls1 ws0">3. call</div><div class="t m0 x29 h17 y3e ff6 fs13 fc0 sc0 ls1 ws0">client</div><div class="t m0 x2a h17 y3f ff6 fs13 fc0 sc0 ls1 ws0">server</div><div class="t m0 x25 h19 y40 ff6 fs15 fc0 sc0 ls1 ws0">regis<span class="_ _0"></span>try</div><div class="t m0 x2b h18 y41 ff6 fs17 fc7 sc0 ls1 ws0">1. regis<span class="_ _0"></span>ter</div><div class="t m0 x2c h1a y42 ff6 fs18 fc7 sc0 ls1 ws0">3. lookup</div><div class="t m0 x2d h18 y43 ff6 fs17 fc7 sc0 ls1 ws0">2. call</div><div class="t m0 x2e h1b y44 ff6 fs19 fc0 sc0 ls1 ws0">Service M<span class="_ _0"></span>esh</div><div class="t m0 x2f h18 y45 ff6 fs17 fc7 sc0 ls1 ws0">4. forward</div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf9" class="pf w0 h0" data-page-no="9"><div class="pc pc9 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg9.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h1c y2a ff2 fs16 fc4 sc0 ls1 ws0">部署模型：多个服务调用，表现为通讯层</div><div class="t m0 x30 h16 y46 ff7 fs13 fc0 sc0 ls1 ws0">服务只管发送和接</div><div class="t m0 x30 h16 y47 ff7 fs13 fc0 sc0 ls1 ws0">收处理请求，中间</div><div class="t m0 x31 h16 y48 ff7 fs13 fc0 sc0 ls1 ws0">环节被剥离</div><div class="t m0 x32 h1d y49 ff6 fs15 fc0 sc0 ls1 ws0">Service mesh<span class="ff7 ls2">接管整个</span></div><div class="t m0 x33 h16 y4a ff7 fs13 fc0 sc0 ls1 ws0">网络<span class="ff6">,</span>负责转发请求</div><div class="t m0 x34 h1e y4b ffb fs7 fc7 sc0 ls1 ws0">”服务间通信的</div><div class="t m0 x34 h1f y4c ffb fs1a fc7 sc0 ls2 ws0">专用基础设施层<span class="ls1">”</span></div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pfa" class="pf w0 h0" data-page-no="a"><div class="pc pca w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bga.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h1c y2a ff2 fs16 fc4 sc0 ls1 ws0">部署模型：有大量服务，表现为网络</div><div class="t m0 x35 h16 y4d ff6 fs13 fc0 sc0 ls1 ws0">Sidecar<span class="ff7">之间的连接</span></div><div class="t m0 x36 h16 y4e ff7 fs13 fc0 sc0 ls1 ws0">形成网络</div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pfb" class="pf w0 h0" data-page-no="b"><div class="pc pcb w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bgb.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h15 y2a ffa fs16 fc4 sc0 ls1 ws0">Serv<span class="_ _9"></span>ice <span class="_ _4"></span>Mesh<span class="ff2">定义回顾</span></div><div class="t m0 x37 h20 y4f ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff2">基础设施层</span></div><div class="t m0 x37 h20 y50 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff2">实现请求的可靠传递</span></div><div class="t m0 x37 h20 y51 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff2">轻量级网络代理</span></div><div class="t m0 x37 h21 y52 ff8 fs15 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff2 ls2">对应用程序透明</span></div><div class="t m0 x38 h16 y53 ff6 fs13 fc0 sc0 ls1 ws0">Service Mesh<span class="ff7">和</span>Sid<span class="_ _4"></span>ec<span class="_ _9"></span>ar<span class="_ _4"></span><span class="ff7">的差异：</span></div><div class="t m0 x39 h16 y54 ff7 fs13 fc0 sc0 ls1 ws0">不再将代理视为单独的组件</div><div class="t m0 x3a h16 y55 ff7 fs13 fc0 sc0 ls1 ws0">而是强调由这些代理连接而形成的网络</div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pfc" class="pf w0 h0" data-page-no="c"><div class="pc pcc w0 h0 opened"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bgc.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x10 hc y15 ff1 fsc fc0 sc0 ls1 ws0">How</div><div class="t m0 x11 hd y16 ff1 fsd fc1 sc0 ls1 ws0">Ser<span class="_ _7"></span>vice Mesh<span class="ff2 ls2">的演进历程</span></div><div class="t m0 x9 he y17 ff5 fse fc3 sc0 ls1 ws0">2</div><div class="t m0 x3b h22 y56 ff3 fs10 fc7 sc0 ls1 ws0">在讨论为什么要选择<span class="ff4">Ser<span class="_ _6"></span>vice Mesh</span>之前</div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pfd" class="pf w0 h0" data-page-no="d"><div class="pc pcd w0 h0 opened"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bgd.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h15 y2a ffa fs16 fc4 sc0 ls1 ws0">Serv<span class="_ _9"></span>ice<span class="_ _2"> </span>Mesh<span class="ff2">的由来</span>1<span class="ff2">：微服务之前</span></div><div class="t m0 x19 h11 y57 ff2 fs12 fc6 sc0 ls1 ws0">远古时代：第一<span class="_ _9"></span>代网络计算机<span class="_ _0"></span>系统</div><div class="t m0 x1b h12 y58 ff3 fs13 fc6 sc0 ls1 ws0">开发人员需要在自己的代码里处理网络通讯的细节问题，如数</div><div class="t m0 x1b h12 y59 ff3 fs13 fc6 sc0 ls1 ws0">据包顺序，流量控制等。结果就是应用程序需要处理网络逻辑，</div><div class="t m0 x1b h12 y5a ff3 fs13 fc6 sc0 ls1 ws0">导致网络逻辑和业务逻辑混杂在一起</div><div class="t m0 x3c h11 y5b ff1 fs12 fc6 sc0 ls1 ws0">T<span class="_ _9"></span>CP/IP<span class="ff2 lsa">出现</span></div><div class="t m0 x3d h12 y5c ff3 fs13 fc6 sc0 ls1 ws0">解决了流量控制等问题。</div><div class="t m0 x3d h12 y5d ff3 fs13 fc6 sc0 ls1 ws0">尽管网络逻辑的代码依然存在，但已经从应用程序里抽取出来，</div><div class="t m0 x3d h12 y5e ff3 fs13 fc6 sc0 ls1 ws0">成为操作系统网络层的一部分。应用程序和开发人员得以解脱<span class="ff9"></span></div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pfe" class="pf w0 h0" data-page-no="e"><div class="pc pce w0 h0 opened"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bge.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h15 y2a ffa fs16 fc4 sc0 ls1 ws0">Serv<span class="_ _9"></span>ice<span class="_ _2"> </span>Mesh<span class="ff2">的由来</span>2<span class="ff2">：微服务时代</span></div><div class="t m0 x19 h11 y57 ff2 fs12 fc6 sc0 ls1 ws0">第一代微服务架构</div><div class="t m0 x1b h12 y58 ff3 fs13 fc6 sc0 ls1 ws0">开发人员需要在自己的代码里处理一系列问题，如服务发现，</div><div class="t m0 x1b h12 y59 ff3 fs13 fc6 sc0 ls1 ws0">负载均衡，熔断，重试等。结果就是应用程序中业务逻辑外又</div><div class="t m0 x1b h12 y5a ff3 fs13 fc6 sc0 ls1 ws0">混杂了一堆非业务的代码。</div><div class="t m0 x3c h11 y5b ff2 fs12 fc6 sc0 ls1 ws0">类库和框架出现</div><div class="t m0 x3d h12 y5c ff3 fs13 fc6 sc0 ls1 ws0">典型如<span class="ff4">Netflix OSS</span><span class="ls4">套件，</span><span class="ff4">Spring <span class="_ _9"></span>Cl<span class="_ _4"></span>oud<span class="ff3">框架，开发人员</span></span></div><div class="t m0 x3d h12 y5d ff3 fs13 fc6 sc0 ls1 ws0">只要写少量代码，甚至几个注解就搞定。<span class="ff4">Spring  Cloud</span></div><div class="t m0 x3d h12 y5e ff3 fs13 fc6 sc0 ls1 ws0">因此风靡一时。</div><div class="t m0 x3d h12 y5f ff3 fs13 fc8 sc0 ls1 ws0">好像一切都很完美的样子？<span class="ff4 ls9">:)</span></div><div class="t m0 xb h16 y60 ff7 fs13 fc0 sc0 ls1 ws0">历史总是惊人的相似：</div><div class="t m0 x3e h16 y61 ff7 fs13 fc0 sc0 ls1 ws0">解决问题的任务又落</div><div class="t m0 x3e h16 y62 ff7 fs13 fc0 sc0 ls1 ws0">在了工程师的肩上<span class="ff9"></span></div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pff" class="pf w0 h0" data-page-no="f"><div class="pc pcf w0 h0 opened"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bgf.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h15 y2a ff2 fs16 fc4 sc0 ls1 ws0">美中不足<span class="ffa">1</span>：类库内容有点多，框架门槛还是稍高</div><div class="t m0 x3f h11 y63 ff1 fs12 fc6 sc0 ls1 ws0">spring <span class="_ _9"></span>clo<span class="_ _4"></span>ud</div><div class="t m0 x3a h12 y64 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">spring-cloud-common<span class="_ _4"></span>s</span></div><div class="t m0 x3a h14 y65 ff8 fs15 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">spring-cloud-Netflix</span></div><div class="t m0 x3a h12 y66 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">spring-cloud-sleuth</span></div><div class="t m0 x3a h12 y67 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">spring-cloud-gateway</span></div><div class="t m0 x3a h12 y68 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">spring-cloud-bus</span></div><div class="t m0 x3a h12 y69 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">spring-cloud-consul</span></div><div class="t m0 x3a h12 y6a ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">spring-cloud-config</span></div><div class="t m0 x3a h12 y6b ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">spring-cloud-security</span></div><div class="t m0 x3a h12 y6c ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">spring-cloud-zookeepe<span class="_ _0"></span>r</span></div><div class="t m0 x3a h12 y6d ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">spring-cloud-aws</span></div><div class="t m0 x3a h12 y6e ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">spring-cloud-cloudfo<span class="_ _4"></span>u<span class="_ _0"></span>ndr<span class="_ _4"></span>y</span></div><div class="t m0 x40 h11 y6f ff1 fs12 fc6 sc0 ls1 ws0">Netflix OSS</div><div class="t m0 x41 h12 y70 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">eureka</span></div><div class="t m0 x41 h12 y71 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">hystrix</span></div><div class="t m0 x41 h12 y72 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">T<span class="_ _b"></span>urbine</span></div><div class="t m0 x41 h12 y73 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">archaius</span></div><div class="t m0 x41 h12 y74 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">Atlas</span></div><div class="t m0 x41 h12 y75 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">Feign</span></div><div class="t m0 x41 h12 y76 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">Ribbon</span></div><div class="t m0 x41 h12 y77 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">zuul</span></div><div class="t m0 x30 h1d y78 ff7 fs15 fc0 sc0 ls2 ws0">那么问题来了：</div><div class="t m0 x42 h16 y79 ff7 fs13 fc0 sc0 ls1 ws0">需要多长时间，才能让整个</div><div class="t m0 x42 h16 y7a ff7 fs13 fc0 sc0 ls1 ws0">开发团队掌握并熟练使用？</div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf10" class="pf w0 h0" data-page-no="10"><div class="pc pc10 w0 h0 opened"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg10.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h1c y2a ff2 fs16 fc4 sc0 ls1 ws0">不得不面对的现实</div><div class="t m0 x9 h1c y7b ff2 fs16 fc4 sc0 ls1 ws0">业务开发团队往往强项不在技术，而是对业务的理<span class="_ _4"></span>解</div><div class="t m0 x9 h1c y7c ff2 fs16 fc4 sc0 ls1 ws0">业务的核心价值在于业务实现：微服务是手段，不<span class="_ _4"></span>是目标</div><div class="t m0 x9 h15 y7d ff2 fs16 fc4 sc0 ls1 ws0">比微服务框架的更可怕的挑战：微服务拆分，<span class="_ _4"></span><span class="ffa">API</span>设计，数据一致性</div><div class="t m0 x9 h1c y7e ff2 fs16 fc4 sc0 ls1 ws0">对于旧有项目，如何进行微服务改造，是个更加痛<span class="_ _4"></span>苦的问题</div><div class="t m0 x9 h1c y7f ff2 fs16 fc4 sc0 ls1 ws0">业务开发团队往往承受极大的业务压力，时间人力<span class="_ _4"></span>永远不足</div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf11" class="pf w0 h0" data-page-no="11"><div class="pc pc11 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg11.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h15 y2a ff2 fs16 fc4 sc0 ls1 ws0">美中不足<span class="ffa">2</span>：服务治理相关功能不够齐全</div><div class="t m0 x43 h11 y80 ff2 fs12 fc6 sc0 ls1 ws0">基本功能</div><div class="t m0 x44 h12 y63 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">服务注册与服务发现</span></div><div class="t m0 x45 h12 y81 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">主动健康检查</span></div><div class="t m0 x44 h12 y82 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">负载均衡</span></div><div class="t m0 x45 h12 y83 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">随机轮询之外的高级算法</span></div><div class="t m0 x44 h12 y84 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">故障处理和恢复</span></div><div class="t m0 x45 h12 y85 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">超时</span></div><div class="t m0 x45 h12 y86 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">熔断</span></div><div class="t m0 x45 h12 y87 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">限流</span></div><div class="t m0 x45 h12 y88 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">重试</span></div><div class="t m0 x44 h12 y89 ff8 fs13 fc5 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">RPC<span class="ff3">支持</span></span></div><div class="t m0 x44 h12 y8a ff8 fs13 fc5 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">HTTP/2<span class="ff3">支持</span></span></div><div class="t m0 x44 h12 y8b ff8 fs13 fc5 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">协议转换<span class="ff4">/</span>提升</span></div><div class="t m0 x46 h11 y80 ff2 fs12 fc6 sc0 ls1 ws0">运维测试类</div><div class="t m0 x47 h12 y63 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">动态请求路由</span></div><div class="t m0 x48 h12 y81 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">服务版本</span></div><div class="t m0 x48 h12 y82 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">分段服务<span class="ff4">(staging ser<span class="_ _4"></span>vice)</span></span></div><div class="t m0 x48 h12 y83 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">金丝雀<span class="ff4">(canaries)</span></span></div><div class="t m0 x48 h12 y84 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">A/B<span class="ff3">测试</span></span></div><div class="t m0 x48 h12 y85 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">蓝绿部署<span class="ff4">(blue-green <span class="_ _9"></span>deploy)</span></span></div><div class="t m0 x48 h12 y86 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">跨<span class="ff4 ls2">DC</span>故障切换</span></div><div class="t m0 x48 h12 y87 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">黑暗流量<span class="ff4">(dark traffic)</span></span></div><div class="t m0 x47 h12 y88 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">故障注入</span></div><div class="t m0 x47 h12 y89 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">高级路由支持</span></div><div class="t m0 x48 h12 y8a ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">高度可定制：<span class="ff4">script, DSL</span></span></div><div class="t m0 x48 h12 y8b ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">可配置的规则</span></div><div class="t m0 x3e h11 y80 ff2 fs12 fc6 sc0 ls1 ws0">高级功能</div><div class="t m0 x49 h12 y63 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">加密</span></div><div class="t m0 x4a h12 y81 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">密钥和证书的生成，分发，轮</span></div><div class="t m0 x40 h12 y82 ff3 fs13 fc6 sc0 ls1 ws0">换和撤销</div><div class="t m0 x49 h12 y83 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">认证<span class="ff4">/</span>授权<span class="ff4">/</span>鉴权</span></div><div class="t m0 x4a h12 y84 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">OAuth</span></div><div class="t m0 x4a h12 y85 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">多重授权机制</span></div><div class="t m0 x4b h12 y86 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">ABAC</span></div><div class="t m0 x4b h12 y87 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">RBAC</span></div><div class="t m0 x4b h12 y88 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">授权钩子</span></div><div class="t m0 x49 h12 y89 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">分布式追踪</span></div><div class="t m0 x49 h12 y8a ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">监控</span></div><div class="t m0 x4a h12 y8b ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">日志</span></div><div class="t m0 x4a h12 y8c ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">度量（<span class="ff4">Metrics</span>）</span></div><div class="t m0 x4a h12 y8d ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff3">仪器仪表（<span class="ff4">instrumentation</span>）</span></div><div class="t m0 x4c hf y8e ff7 fs10 fc0 sc0 ls1 ws0">问题：打算投多少时间和精力进去？</div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf12" class="pf w0 h0" data-page-no="12"><div class="pc pc12 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg12.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h15 y2a ff2 fs16 fc4 sc0 ls1 ws0">美中不足<span class="ffa">3</span>：说好的跨语言呢？</div><div class="t m0 x4d h11 y8f ff2 fs12 fc6 sc0 ls1 ws0">主流编程语言</div><div class="t m0 x38 h12 y90 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">Jav<span class="_ _9"></span>a</span></div><div class="t m0 x4e h12 y91 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">Scala</span></div><div class="t m0 x4e h12 y92 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">Groovy</span></div><div class="t m0 x4e h12 y93 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">Kotlin</span></div><div class="t m0 x38 h12 y94 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">C</span></div><div class="t m0 x38 h12 y95 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">C++</span></div><div class="t m0 x38 h12 y96 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4 lsb">C#</span></div><div class="t m0 x38 h12 y97 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">Python</span></div><div class="t m0 x38 h12 y98 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">PHP</span></div><div class="t m0 x38 h12 y99 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">Ruby</span></div><div class="t m0 x4f h11 y9a ff2 fs12 fc6 sc0 ls1 ws0">新兴编程语言</div><div class="t m0 x50 h12 y9b ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">Golang</span></div><div class="t m0 x50 h12 y9c ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">Node.js</span></div><div class="t m0 x50 h12 y9d ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">Rust</span></div><div class="t m0 x50 h14 y9e ff8 fs15 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">R</span></div><div class="t m0 x50 h12 y9f ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _8"> </span><span class="ff4">Lua/OpenR<span class="_ _9"></span>esty</span></div><div class="t m0 x51 h10 ya0 ff7 fs11 fc7 sc0 ls2 ws0">微服务带来的一个巨大优点，就是容许不同的服务根</div><div class="t m0 x51 hf ya1 ff7 fs10 fc7 sc0 ls1 ws0">据实际情况采用不同的编程语言。当我们将代码封装</div><div class="t m0 x51 hf ya2 ff7 fs10 fc7 sc0 ls1 ws0">到类库和框架时，问题又来了<span class="ff6 ls2">: </span></div><div class="t m0 x52 hf ya3 ff7 fs10 fc0 sc0 ls1 ws0">我们需要提供多少</div><div class="t m0 x53 hf ya4 ff7 fs10 fc0 sc0 ls1 ws0">种语言的类库？</div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf13" class="pf w0 h0" data-page-no="13"><div class="pc pc13 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg13.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h15 y2a ff2 fs16 fc4 sc0 ls1 ws0">美中不足<span class="ffa">4</span>：类库要升级怎么办？</div><div class="t m0 x6 h23 ya5 ff6 fs10 fc0 sc0 ls1 ws0">1.0.*</div><div class="t m0 x54 h23 ya6 ff6 fs10 fc0 sc0 ls1 ws0">1.1 .*</div><div class="t m0 x54 h23 ya7 ff6 fs10 fc0 sc0 ls1 ws0">1.2 .*</div><div class="t m0 x54 h23 ya8 ff6 fs10 fc0 sc0 ls1 ws0">2.0 .*</div><div class="t m0 x54 h23 ya9 ff6 fs10 fc0 sc0 ls1 ws0">2.1 .*</div><div class="t m0 x54 h23 yaa ff6 fs10 fc0 sc0 ls1 ws0">3.0 .*</div><div class="t m0 x55 h23 yab ff6 fs10 fc0 sc0 ls1 ws0">1.0.*</div><div class="t m0 x56 h23 yac ff6 fs10 fc0 sc0 ls1 ws0">1.1 .*</div><div class="t m0 x56 h23 yad ff6 fs10 fc0 sc0 ls1 ws0">1.2 .*</div><div class="t m0 x56 h23 yae ff6 fs10 fc0 sc0 ls1 ws0">2.0 .*</div><div class="t m0 x56 h23 yaf ff6 fs10 fc0 sc0 ls1 ws0">2.1 .*</div><div class="t m0 x56 h24 yb0 ff6 fs11 fc0 sc0 ls1 ws0">3.0 .*</div><div class="t m0 x57 h25 yb1 ff7 fsc fc7 sc0 ls1 ws0">客户端：数以千计</div><div class="t m0 x29 hf yb2 ff7 fs10 fc7 sc0 ls1 ws0">服务器端：数以百计</div><div class="t m0 x58 hf yb3 ff7 fs10 fc7 sc0 ls1 ws0">别忘了：编程语言，再<span class="ff6">*<span class="lsb">N </span><span class="ff9"></span></span></div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf14" class="pf w0 h0" data-page-no="14"><div class="pc pc14 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg14.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h1c y2a ff2 fs16 fc4 sc0 ls1 ws0">反省：我们到底在图个啥？</div><div class="t m0 x59 h1c yb4 ff2 fs16 fc4 sc0 ls1 ws0">最艰巨的挑战，与服务本身无关，而是服务间的通<span class="_ _4"></span>讯</div><div class="t m0 x59 h1c yb5 ff2 fs16 fc4 sc0 ls4 ws0">所有的努力，都是为了保证将请求发到正确的地方</div><div class="t m0 x59 h1c yb6 ff2 fs16 fc7 sc0 ls1 ws0">是不是有一种似曾相识的感觉？</div><div class="t m0 x5a h15 yb7 ff2 fs16 fc7 sc0 ls1 ws0">我们基于<span class="ffa">TCP</span>开发应用时，需要关心链路层吗？</div><div class="t m0 x5a h15 yb8 ff2 fs16 fc7 sc0 ls1 ws0">我们基于<span class="ffa">HTTP</span>开发应用时，需要关心<span class="ffa">T<span class="_ _4"></span>CP</span>层吗？</div><div class="t m0 x1d h1c yb9 ff2 fs16 fc5 sc0 ls1 ws0">问题又来了：为什么我们开发微服务时，就一定要<span class="_ _4"></span>这么关心基础设施和类库框架？</div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf15" class="pf w0 h0" data-page-no="15"><div class="pc pc15 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg15.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h15 y2a ffa fs16 fc4 sc0 ls1 ws0">Serv<span class="_ _9"></span>ice<span class="_ _2"> </span>Mesh<span class="ff2">的由来</span>3<span class="ff2">：技术栈下移，原始代理出现</span></div><div class="t m0 x5b h11 yba ff2 fs12 fc6 sc0 ls1 ws0">先驱者：使用代<span class="_ _9"></span>理解决部分问<span class="_ _0"></span>题</div><div class="t m0 x5c h12 ybb ff3 fs13 fc6 sc0 ls1 ws0">使用<span class="ff4">nginx</span>，<span class="ff4">hapro<span class="_ _0"></span>xy<span class="ff3">等反向代理，避免服务间产生直接连接。</span></span></div><div class="t m0 x5c h12 ybc ff3 fs13 fc6 sc0 ls1 ws0">所有流量都经由代理，代理实现必须的特性。</div><div class="t m0 x5c h12 ybd ff3 fs13 fc6 sc0 ls1 ws0">但是：功能过于简陋，而且代理通常部署在服务器端</div><div class="t m0 x5d h16 ybe ff7 fs13 fc0 sc0 ls1 ws0">最理想的做法是将这层加</div><div class="t m0 x5d h16 y33 ff7 fs13 fc0 sc0 ls1 ws0">入网络协议栈，但是这个</div><div class="t m0 x5e h16 y34 ff7 fs13 fc0 sc0 ls1 ws0">实现起来不现实</div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf16" class="pf w0 h0" data-page-no="16"><div class="pc pc16 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg16.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h15 y2a ffa fs16 fc4 sc0 ls1 ws0">Serv<span class="_ _9"></span>ice<span class="_ _2"> </span>Mesh<span class="ff2">的由来</span>4<span class="ff2">：</span>Sidecar<span class="ff2">出现</span></div><div class="t m0 x5f h11 y6f ff1 fs12 fc6 sc0 ls1 ws0">Airbnb</div><div class="t m0 x60 h12 ybf ff4 fs13 fc6 sc0 ls6 ws0">2013<span class="ff3 ls1">年，<span class="ff4">Airbnb</span>开发了<span class="ff4">S<span class="_ _0"></span>ynapse<span class="ff3">和</span>Nerve</span></span></div><div class="t m0 x61 h16 yc0 ff6 fs13 fc0 sc0 ls1 ws0">Sidecar<span class="ff7 ls4">开始和客户端一对一的</span></div><div class="t m0 x62 h16 yc1 ff7 fs13 fc0 sc0 ls1 ws0">部署在一起了</div><div class="t m0 x5f h11 yc2 ff1 fs12 fc6 sc0 ls1 ws0">Netflix</div><div class="t m0 x60 h14 yc3 ff4 fs15 fc6 sc0 lsc ws0">2014<span class="ff3 ls2">年，</span><span class="ls1">Netflix<span class="ff3 ls2">发布了</span>Prana</span></div><div class="t m0 x5f h11 yc4 ff1 fs12 fc6 sc0 ls1 ws0">SoundCloud</div><div class="t m0 x60 h12 yc5 ff3 fs13 fc6 sc0 ls1 ws0">据说也开发了一些<span class="ff4">sidecar</span></div><div class="t m0 x60 h11 yc6 ff2 fs12 fc6 sc0 ls1 ws0">唯品会</div><div class="t m0 x60 h12 yc7 ff4 fs13 fc6 sc0 ls6 ws0">2015<span class="ff3 ls1">年，唯品会的<span class="ff4">OSP</span>服务化框架，加入</span></div><div class="t m0 x60 h12 yc8 ff3 fs13 fc6 sc0 ls1 ws0">名为<span class="ff4">local proxy</span>的<span class="ff4">sidecar</span></div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf17" class="pf w0 h0" data-page-no="17"><div class="pc pc17 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg17.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h15 y2a ffa fs16 fc4 sc0 ls1 ws0">Sidecar<span class="ff2 ls4">的局限：为特定的基础设施而设计</span></div><div class="t m0 x63 h11 y63 ff1 fs12 fc6 sc0 ls1 ws0">Airbnb</div><div class="t m0 x64 h12 yc9 ff4 fs13 fc6 sc0 ls1 ws0">Synapse<span class="ff3">和</span>Ner<span class="_ _4"></span>v<span class="_ _9"></span>e<span class="_ _4"></span><span class="ff3">：假设服务一定是注册到</span>ZooK<span class="_ _9"></span>eeper<span class="ff3">上的</span></div><div class="t m0 x63 h11 yca ff1 fs12 fc6 sc0 ls1 ws0">Netflix</div><div class="t m0 x64 h12 ycb ff4 fs13 fc6 sc0 ls1 ws0">Prana<span class="ff3">：一定要使用</span>Netflix<span class="ff3">自己的</span>Eureka<span class="ff3">，目的是让非</span><span class="ls6">JVM</span><span class="ff3">应</span></div><div class="t m0 x64 h12 ycc ff3 fs13 fc6 sc0 ls4 ws0">用接入<span class="ff4 ls1">Netflix OSS</span></div><div class="t m0 x63 h11 ycd ff1 fs12 fc6 sc0 ls1 ws0">SoundCloud</div><div class="t m0 x64 h12 yce ff3 fs13 fc6 sc0 ls4 ws0">让遗留的<span class="ff4 ls1">Ruby<span class="ff3">应用可以使用</span><span class="ls6">JVM</span></span>的基础设施</div><div class="t m0 x63 h11 ycf ff2 fs12 fc6 sc0 ls1 ws0">唯品会</div><div class="t m0 x64 h12 yd0 ff3 fs13 fc6 sc0 ls1 ws0">绑定<span class="ff4">OSP</span>框架，接入非<span class="ff4">Jav<span class="_ _9"></span>a<span class="ff3 ls4">语言，解决业务部门不愿意升级的问题</span></span></div><div class="t m0 x25 h22 yd1 ff3 fs10 fc7 sc0 ls1 ws0">有特定</div><div class="t m0 x65 h26 yd2 ff3 fs11 fc7 sc0 ls2 ws0">背景和需求</div><div class="t m0 x48 h22 yd3 ff3 fs10 fc5 sc0 ls1 ws0">无法通用</div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf18" class="pf w0 h0" data-page-no="18"><div class="pc pc18 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg18.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h15 y2a ffa fs16 fc4 sc0 ls1 ws0">Serv<span class="_ _9"></span>ice<span class="_ _2"> </span>Mesh<span class="ff2">的由来</span>5<span class="ff2">：通用型的</span>Serv<span class="_ _9"></span>ice <span class="_ _4"></span>Mesh<span class="ff2">出现</span></div><div class="t m0 x66 h11 yd4 ff1 fs12 fc6 sc0 ls1 ws0">Link<span class="_ _0"></span>erd</div><div class="t m0 x67 h12 yd5 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">来自<span class="ff4">buoyant</span>，<span class="ff4">Scala</span>语言</span></div><div class="t m0 x67 h12 yd6 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff4">Ser<span class="_ _4"></span>vice Mesh<span class="ff3">名词的创造者</span></span></div><div class="t m0 x67 h12 yd7 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff4 ls6">2016</span><span class="ff3">年<span class="ff4">1</span>月<span class="ff4 ls7">15</span>日，<span class="ff4">0.0.7</span>发布</span></div><div class="t m0 x67 h12 yd8 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff4 ls6">2017</span><span class="ff3">年<span class="ff4">1</span>月<span class="ff4 ls7">23</span>日，加入<span class="ff4">CNCF</span></span></div><div class="t m0 x67 h14 yd9 ff8 fs15 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff4 lsc">2017</span><span class="ff3">年<span class="ff4">4</span>月<span class="ff4 lsd">25</span><span class="ls2">日，</span><span class="ff4">1.0</span><span class="ls2">版本发布</span></span></div><div class="t m0 x40 h11 yd4 ff1 fs12 fc6 sc0 ls1 ws0">Env<span class="_ _0"></span>oy</div><div class="t m0 x40 h12 yd5 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">来自<span class="ff4">L<span class="_ _9"></span>yf<span class="_ _4"></span>t<span class="ff3">，</span>c++<span class="ff3">语言</span></span></span></div><div class="t m0 x40 h12 yd6 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff4 ls6">2016</span><span class="ff3">年<span class="ff4">9</span>月<span class="ff4 ls7">13</span>日，<span class="ff4">1.0</span>版本发布</span></div><div class="t m0 x40 h12 yd7 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff4 ls6">2017</span><span class="ff3">年<span class="ff4">9</span>月<span class="ff4 ls7">14</span>日，加入<span class="ff4">CNCF</span></span></div><div class="t m0 x68 h13 yda ff1 fs14 fc6 sc0 ls1 ws0">nginmesh</div><div class="t m0 x68 h12 ydb ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">来自<span class="ff4">nginx</span></span></div><div class="t m0 x68 h12 ydc ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff4 ls6">2017</span><span class="ff3">年<span class="ff4">9</span>月<span class="ff4 ls7">15</span>日发布</span></div><div class="t m0 x68 h12 ydd ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">目前只有一个版本<span class="ff4">0.16</span></span></div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf19" class="pf w0 h0" data-page-no="19"><div class="pc pc19 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg19.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h15 y2a ffa fs16 fc4 sc0 ls1 ws0">Serv<span class="_ _9"></span>ice<span class="_ _2"> </span>Mesh<span class="ff2">和</span>Sidecar<span class="ff2">的差异</span></div><div class="t m0 x4d h16 yde ff6 fs13 fc0 sc0 lse ws0">1.<span class="ff7 ls1">不再视为单独的组件，而</span></div><div class="t m0 x4d h16 ydf ff7 fs13 fc0 sc0 ls1 ws0">是强调连接形成的网络</div><div class="t m0 x69 h16 ye0 ff6 fs13 fc0 sc0 ls1 ws0">2.Service mesh<span class="ff7">是通用组件</span></div><div class="t m0 x4a h16 ye1 ff6 fs13 fc0 sc0 ls1 ws0">3.Sidecar<span class="ff7">是可选的，容许直连。但是</span>Service mesh<span class="ff7">要求完全掌控所有流量</span></div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf1a" class="pf w0 h0" data-page-no="1a"><div class="pc pc1a w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg1a.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h15 y2a ffa fs16 fc4 sc0 ls1 ws0">Serv<span class="_ _9"></span>ice<span class="_ _2"> </span>Mesh<span class="ff2">的由来</span>6<span class="ff2">：</span>Istio<span class="ff2 ls4">王者风范</span></div><div class="t m0 x45 h11 ye2 ff1 fs12 fc6 sc0 ls1 ws0">Istio</div><div class="t m0 x4d h12 ye3 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">来自<span class="ff4">Google</span>，<span class="ff4">IBM</span>和<span class="ff4">L<span class="_ _9"></span>yf<span class="_ _4"></span>t<span class="ff3">，</span><span class="lsf">Go</span><span class="ff3">语言</span></span></span></div><div class="t m0 x4d h12 ye4 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff4">Ser<span class="_ _4"></span>vice Mesh<span class="ff3">集大成者</span></span></div><div class="t m0 x4d h12 ye5 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">绝对的新鲜出炉</span></div><div class="t m0 x6a h12 ye6 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff4 ls6">2017</span><span class="ff3">年<span class="ff4">5</span>月<span class="ff4 ls7">24</span>日，<span class="ff4">0.1 <span class="_ _9"></span>release<span class="ff3">版本发布</span></span></span></div><div class="t m0 x6a h12 ye7 ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff4 ls6">2017</span><span class="ff3">年<span class="ff4 ls6">10</span>月<span class="ff4">4</span>日，<span class="ff4">0.2 <span class="_ _9"></span>r<span class="_ _0"></span>elease<span class="ff3">版本发布</span></span></span></div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf1b" class="pf w0 h0" data-page-no="1b"><div class="pc pc1b w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg1b.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h15 y2a ffa fs16 fc4 sc0 ls1 ws0">Istio<span class="ff2">带来的是前所未有的控制力</span></div><div class="t m0 x19 h11 y57 ff2 fs12 fc6 sc0 ls1 ws0">单个视图</div><div class="t m0 x1b h12 y58 ff3 fs13 fc6 sc0 ls1 ws0">以<span class="ff4">sidecar</span>方式部署的<span class="ff4">Ser<span class="_ _4"></span>vice <span class="_ _0"></span>Mesh<span class="ff3">控制了服务间流量，理论</span></span></div><div class="t m0 x1b h12 y59 ff3 fs13 fc6 sc0 ls1 ws0">上<span class="ff4">Ser<span class="_ _4"></span>vice Mesh</span>可以对流量”为所欲为”，因此，只要能控</div><div class="t m0 x1b h12 y5a ff3 fs13 fc6 sc0 ls1 ws0">制<span class="ff4">Ser<span class="_ _4"></span>vice Mesh</span>，一切就皆有可能。</div><div class="t m0 x1b h12 ye8 ff4 fs13 fc7 sc0 ls1 ws0">Istio<span class="ff3">为此带来了集中式的控制面板。</span></div><div class="t m0 x3c h11 y5b ff2 fs12 fc6 sc0 ls4 ws0">整体视图</div><div class="t m0 x3d h12 y5c ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3 ls4">所有的流量都在</span><span class="ff4">Ser<span class="_ _4"></span>vice <span class="_ _9"></span>Me<span class="_ _4"></span>sh<span class="ff3">控制中</span></span></div><div class="t m0 x3d h12 y5d ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3 ls4">所有的</span><span class="ff4">Ser<span class="_ _4"></span>vice Mesh<span class="ff3">都在控制面板掌控</span></span></div><div class="t m0 x3d h12 y5e ff8 fs13 fc6 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3 ls4">通过控制面板就可以控制整个系统</span></div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf1c" class="pf w0 h0" data-page-no="1c"><div class="pc pc1c w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg1c.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h15 y2a ffa fs16 fc4 sc0 ls1 ws0">Istio<span class="ff2">的架构</span></div><div class="t m0 x6b h16 ye9 ff7 fs13 fc0 sc0 ls1 ws0">标配<span class="ff6">Env<span class="_ _9"></span>oy<span class="ff7">，但是</span>Link<span class="_ _0"></span>erd<span class="ff7">和</span></span></div><div class="t m0 x6c h16 yea ff6 fs13 fc0 sc0 ls1 ws0">nginmesh<span class="ff7">都在</span>istio<span class="ff7 ls4">集成</span></div><div class="t m0 x6d h10 yeb ff7 fs11 fc7 sc0 ls2 ws0">数据</div><div class="t m0 x6d hf yec ff7 fs10 fc7 sc0 ls1 ws0">面板</div><div class="t m0 x6d hf yed ff7 fs10 fc7 sc0 ls1 ws0">控制</div><div class="t m0 x6d hf yee ff7 fs10 fc7 sc0 ls1 ws0">面板</div><div class="t m0 x6e h16 yef ff7 fs13 fc0 sc0 ls1 ws0">提供服务间认证</div><div class="t m0 x6e h16 yf0 ff7 fs13 fc0 sc0 ls1 ws0">和终端用户认证</div><div class="t m0 x6f h16 yf1 ff7 fs13 fc0 sc0 ls1 ws0">使用交互<span class="ff6">TLS</span>，内</div><div class="t m0 x6e h16 yf2 ff7 fs13 fc0 sc0 ls1 ws0">置身份和凭据管</div><div class="t m0 x70 h1d yf3 ff7 fs15 fc0 sc0 ls1 ws0">理</div><div class="t m0 x33 h16 yf4 ff7 fs13 fc0 sc0 ls1 ws0">服务发现，配置，</div><div class="t m0 x71 h16 yf5 ff7 fs13 fc0 sc0 ls1 ws0">底层抽象，编码</div><div class="t m0 x72 h16 yf6 ff7 fs13 fc0 sc0 ls1 ws0">规则，管理<span class="ff6">Env<span class="_ _9"></span>oy</span></div><div class="t m0 x73 h12 yf7 ff8 fs13 fc7 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">服务发现</span></div><div class="t m0 x73 h12 yf8 ff8 fs13 fc7 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">负载均衡</span></div><div class="t m0 x73 h12 yf9 ff8 fs13 fc7 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">请求路由</span></div><div class="t m0 x73 h12 yfa ff8 fs13 fc7 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">故障处理</span></div><div class="t m0 x73 h12 yfb ff8 fs13 fc7 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">故障注入</span></div><div class="t m0 x73 h12 yfc ff8 fs13 fc7 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">规则配置</span></div><div class="t m0 xc h16 yfd ff7 fs13 fc0 sc0 ls4 ws0">微服务和基础设施</div><div class="t m0 xc h16 yfe ff7 fs13 fc0 sc0 ls4 ws0">的中介层，将策略</div><div class="t m0 xc h16 yff ff7 fs13 fc0 sc0 ls4 ws0">决策从应用移出并</div><div class="t m0 x74 h16 y100 ff7 fs13 fc0 sc0 ls1 ws0">用配置替代</div><div class="t m0 x75 h12 y101 ff8 fs13 fc7 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">前提条件检查：如认证，黑白名单，<span class="ff4">ACL</span>检查</span></div><div class="t m0 x75 h12 y102 ff8 fs13 fc7 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">配额管理：限流</span></div><div class="t m0 x75 h12 y103 ff8 fs13 fc7 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">遥测报告<span class="ff4 ls9">: </span><span class="ls4">日志，监控，</span><span class="ff4">metrics</span></span></div><div class="t m0 x2a h12 y104 ff8 fs13 fc7 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">升级流量（加密）</span></div><div class="t m0 x2a h12 y105 ff8 fs13 fc7 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">身份认证</span></div><div class="t m0 x2a h12 y106 ff8 fs13 fc7 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">密钥管理</span></div><div class="t m0 x2a h12 y107 ff8 fs13 fc7 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">通讯安全</span></div><div class="t m0 x2a h12 y108 ff8 fs13 fc7 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">访问控制</span></div><div class="t m0 x76 h12 y109 ff8 fs13 fc7 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">基于属性</span></div><div class="t m0 x76 h12 y10a ff8 fs13 fc7 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">基于角色</span></div><div class="t m0 x76 h12 y10b ff8 fs13 fc7 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">授权钩子</span></div><div class="t m0 x2a h12 y10c ff8 fs13 fc7 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">审计</span></div><div class="t m0 x2a h12 y10d ff8 fs13 fc7 sc0 ls1 ws0">•<span class="_ _a"> </span><span class="ff3">监控资源的使用者</span></div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf1d" class="pf w0 h0" data-page-no="1d"><div class="pc pc1d w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg1d.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x77 h27 y10e ff3 fs16 fc9 sc0 ls1 ws0">出身名门</div><div class="t m0 x78 h28 y10f ffc fs1b fca sc0 ls1 ws0">Google Cloud Pl<span class="_ _9"></span>atf<span class="_ _4"></span>orm</div><div class="t m0 x8 h29 y110 ffc fs1c fca sc0 ls1 ws0">IBM Cloud<span class="_ _0"></span> Platform</div><div class="t m0 x79 h28 y111 ffc fs1b fca sc0 ls1 ws0">Ly<span class="_ _9"></span>f<span class="_ _4"></span>t Envoy<span class="_ _9"></span> <span class="_ _4"></span>Team</div><div class="t m0 x7a h27 y112 ff3 fs16 fc9 sc0 ls1 ws0">社区支持</div><div class="t m0 x7b h28 y113 ffc fs1b fca sc0 ls1 ws0">Linkerd/nginmesh<span class="ff3">选择集成而非对抗</span></div><div class="t m0 x7c h28 y114 ffc fs1b fca sc0 ls1 ws0">Red hat/Pivota<span class="_ _9"></span>l/W<span class="_ _4"></span>eaveworks/Tigera/Datawire</div><div class="t m0 x7d h28 y115 ff3 fs1b fca sc0 ls1 ws0">背后有<span class="ffc ls10">CNCF</span>，还有即将一统江湖的<span class="ffc">k<span class="_ _4"></span>8s</span></div><div class="t m0 xf h27 y116 ff3 fs16 fc9 sc0 ls1 ws0">运势而生</div><div class="t m0 x73 h28 y117 ff3 fs1b fca sc0 ls1 ws0">微服务<span class="ffc">/</span>容器如日中天，<span class="ffc">Cloud <span class="_ _4"></span>Native</span>大势已成</div><div class="t m0 x1c h2a y118 ff3 fs1b fca sc0 ls1 ws0">传统企业互联网技术转型大潮汹涌却又先天技术积<span class="_ _4"></span>累不足</div><div class="t m0 x6e h27 y119 ff3 fs16 fc9 sc0 ls1 ws0">超凡实力</div><div class="t m0 x7e h28 y11a ffc fs1b fca sc0 ls1 ws0">Istio<span class="ff3">的设计理念新颖前卫，极富创意</span></div><div class="t m0 x61 h2a y11b ff3 fs1b fca sc0 ls1 ws0">开发团队实力惊人</div><div class="t m0 x7f h2a y11c ff3 fs1b fca sc0 ls1 ws0">功能齐全</div><div class="t m0 x80 h2b y11d ff2 fs1b fc4 sc0 ls1 ws0">有望成为下一个<span class="ffa ls11">k8s</span></div><div class="t m0 x12 h15 y2a ffa fs16 fc4 sc0 ls1 ws0">Istio<span class="ff2">：</span>Serv<span class="_ _9"></span>ice <span class="_ _4"></span>Mesh<span class="ff2">集大成者</span></div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf1e" class="pf w0 h0" data-page-no="1e"><div class="pc pc1e w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg1e.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x81 h2c y11e ff3 fs1 fc0 sc0 ls4 ws0">下一代</div><div class="t m0 x81 h2c y11f ff3 fs1 fc0 sc0 ls4 ws0">微服务</div><div class="t m1 x51 h2d y120 ff3 fs1d fc7 sc0 ls12 ws0">远古时代</div><div class="t m0 x82 h2e y121 ffd fs1e fc7 sc0 ls1 ws0">2013/2014/2015</div><div class="t m0 x83 h2f y122 ffd fs1f fc7 sc0 ls1 ws0">2016/2017</div><div class="t m0 x2e h2e y123 ffd fs1e fc7 sc0 ls13 ws0">2018</div><div class="t m0 x1d h27 y124 ff3 fs16 fc9 sc0 ls1 ws0">原始代理</div><div class="t m0 x1d h28 y125 ffc fs1b fca sc0 ls1 ws0">Nginx<span class="ff3">，</span>haproxy</div><div class="t m0 x84 h30 y126 ffc fs16 fc9 sc0 ls1 ws0">Sidecar</div><div class="t m0 x84 h28 y127 ff8 fs1b fca sc0 ls1 ws0">• <span class="ffc ls11">2013</span><span class="ff3">年，<span class="ffc">Airbnb</span>，<span class="ffc">Sy<span class="_ _9"></span>napse<span class="ff3">和</span>Nerve</span></span></div><div class="t m0 x84 h28 y128 ff8 fs1b fca sc0 ls1 ws0">• <span class="ffc ls11">2014</span><span class="ff3">年，<span class="ffc">Netflix</span>，<span class="ffc">Prana</span></span></div><div class="t m0 x84 h28 y129 ff8 fs1b fca sc0 ls1 ws0">• <span class="ffc ls11">2015</span><span class="ff3">年，唯品会，<span class="ffc">OSP local proxy</span></span></div><div class="t m0 x85 h30 y12a ffc fs16 fc9 sc0 ls1 ws0">Service Mesh</div><div class="t m0 x85 h28 y12b ffc fs1b fca sc0 ls11 ws0">2016<span class="ff3 ls1">年<span class="ffc">1</span>月，<span class="ffc">Linkerd</span>发布第一个版本</span></div><div class="t m0 x85 h28 y12c ffc fs1b fca sc0 ls11 ws0">2016<span class="ff3 ls1">年<span class="ffc">9</span>月，<span class="ffc">Envoy<span class="_ _9"></span><span class="ff3">发布<span class="ffc ls11">1.0</span>版本</span></span></span></div><div class="t m0 x85 h28 y12d ffc fs1b fca sc0 ls11 ws0">2017<span class="ff3 ls1">年<span class="ffc">1</span>月，<span class="ffc">Linkerd</span>加入</span><span class="ls10">CNCF</span></div><div class="t m0 x85 h28 y12e ffc fs1b fca sc0 ls11 ws0">2017<span class="ff3 ls1">年<span class="ffc">4</span>月，<span class="ffc">Linkerd</span>发布</span>1.0<span class="ff3 ls1">版本</span></div><div class="t m0 x85 h28 y12f ffc fs1b fca sc0 ls11 ws0">2017<span class="ff3 ls1">年<span class="ffc">9</span>月，<span class="ffc">Envoy<span class="_ _9"></span><span class="ff3">加入<span class="ffc ls10">CNCF</span></span></span></span></div><div class="t m0 x1e h30 y126 ffc fs16 fc9 sc0 ls1 ws0">Istio</div><div class="t m0 x1e h28 y127 ffc fs1b fca sc0 ls11 ws0">2017<span class="ff3 ls1">年<span class="ffc">5</span>月，</span>0.1<span class="ff3 ls1">发布</span></div><div class="t m0 x1e h28 y128 ffc fs1b fca sc0 ls11 ws0">2017<span class="ff3 ls1">年</span>10<span class="ff3 ls1">月，</span>0.2<span class="ff3 ls1">发布</span></div><div class="t m0 x1e h28 y129 ff3 fs1b fc5 sc0 ls1 ws0">预计<span class="ffc ls11">2018</span>年，<span class="ffc ls11">1.0</span>发布，期待中</div><div class="t m0 x12 h15 y2a ffa fs16 fc4 sc0 ls1 ws0">Serv<span class="_ _9"></span>ice<span class="_ _2"> </span>Mesh<span class="ff2">演进总结</span></div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf1f" class="pf w0 h0" data-page-no="1f"><div class="pc pc1f w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg1f.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x10 hc y15 ff1 fsc fc0 sc0 ls1 ws0">Why</div><div class="t m0 x11 hd y16 ff2 fsd fc1 sc0 ls2 ws0">为何选择<span class="ff1 ls1">Ser<span class="_ _7"></span>vice Mesh<span class="ff2">？</span></span></div><div class="t m0 x9 he y17 ff5 fse fc3 sc0 ls1 ws0">3</div><div class="t m0 xb h22 y56 ff3 fs10 fc7 sc0 ls1 ws0">在走过<span class="ff4">Ser<span class="_ _6"></span>vice Mesh</span>演进的流程之后，答案很清晰</div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf20" class="pf w0 h0" data-page-no="20"><div class="pc pc20 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg20.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h1c y2a ff2 fs16 fc4 sc0 ls1 ws0">技术栈下移带来的优势</div><div class="t m0 x18 h15 y130 ff2 fs16 fc4 sc0 ls1 ws0">美中不足<span class="ffa">1</span>：类库内容有点多，框架门槛还是稍高<span class="_ _4"></span>：<span class="fc7">都交给<span class="ffa">Service <span class="_ _4"></span>Mesh</span>了，应用只需关注业务逻辑</span></div><div class="t m0 x18 h15 y131 ff2 fs16 fc4 sc0 ls1 ws0">美中不足<span class="ffa">2</span>：服务治理相关功能不够齐全：<span class="ffa fc7">Service <span class="_ _4"></span>Mesh<span class="ff2">把功能做齐全就好</span></span></div><div class="t m0 x86 hf y132 ff7 fs10 fc0 sc0 ls1 ws0">独立部署</div><div class="t m0 x86 hf y133 ff7 fs10 fc0 sc0 ls1 ws0">各自演进</div><div class="t m0 x86 hf y134 ff7 fs10 fc0 sc0 ls1 ws0">职责分明</div><div class="t m0 x18 h15 y135 ff2 fs16 fc4 sc0 ls1 ws0">美中不足<span class="ffa">4</span>：类库要升级怎么办？<span class="fc7">可单独升级<span class="ffa">Service <span class="_ _4"></span>Mesh</span>，应用程序不用改</span></div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf21" class="pf w0 h0" data-page-no="21"><div class="pc pc21 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg21.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x87 h31 y136 ff3 fs20 fc9 sc0 ls1 ws0">门槛降低</div><div class="t m0 x2 h32 y137 ff3 fs21 fc9 sc0 ls2 ws0">功能增加</div><div class="t m0 x4 h2a y138 ff3 fs1b fca sc0 ls1 ws0">对业务团队的技术要求降低</div><div class="t m0 x73 h2a y139 ff3 fs1b fca sc0 ls1 ws0">尤其对非互联网做技术转型的业务开发团队</div><div class="t m0 x22 h2a y13a ff3 fs1b fca sc0 ls1 ws0">开发测试成本降低</div><div class="t m0 x68 h2a y138 ff3 fs1b fca sc0 ls1 ws0">可以更多的关注微服务的其他领域</div><div class="t m0 x68 h28 y139 ff3 fs1b fca sc0 ls1 ws0">如微服务的拆分<span class="ffc">/API</span>设计<span class="ffc">/</span>数据一致性</div><div class="t m0 x4 h28 y13b ff3 fs1b fca sc0 ls1 ws0">远超<span class="ffc">Spring Cloud </span>的功能集</div><div class="t m0 x66 h2a y13c ff3 fs1b fca sc0 ls1 ws0">极大的满足各种类型的功能需求</div><div class="t m0 x32 h2a y13d ff3 fs1b fca sc0 ls1 ws0">统一化，标准化</div><div class="t m0 x68 h2a y13b ff3 fs1b fca sc0 ls1 ws0">无需修改应用代码</div><div class="t m0 x68 h2a y13c ff3 fs1b fca sc0 ls1 ws0">灵活配置，按需定制</div><div class="t m0 x12 h15 y2a ffa fs16 fc4 sc0 ls1 ws0">Serv<span class="_ _9"></span>ice <span class="_ _4"></span>Mesh<span class="ff2">带来的奇迹：鱼与熊掌兼得</span></div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf22" class="pf w0 h0" data-page-no="22"><div class="pc pc22 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg22.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h15 y2a ffa fs16 fc4 sc0 ls1 ws0">Serv<span class="_ _9"></span>ice<span class="_ _2"> </span>Mesh<span class="ff2">介入调用流程后带来的优势</span></div><div class="t m0 x71 h17 y46 ff6 fs13 fc0 sc0 ls1 ws0">client</div><div class="t m0 x88 h17 y13e ff6 fs13 fc0 sc0 ls1 ws0">server</div><div class="t m0 x89 h17 y13f ff6 fs13 fc0 sc0 ls1 ws0">registry</div><div class="t m0 x30 h18 y140 ff6 fs17 fc7 sc0 ls1 ws0">1. regis<span class="_ _0"></span>ter</div><div class="t m0 x8a h18 y141 ff6 fs17 fc7 sc0 ls1 ws0">2. lookup</div><div class="t m0 x8b h18 y142 ff6 fs17 fc7 sc0 ls1 ws0">3. call</div><div class="t m0 x8c h17 y143 ff6 fs13 fc0 sc0 ls1 ws0">client</div><div class="t m0 x8d h17 y144 ff6 fs13 fc0 sc0 ls1 ws0">server</div><div class="t m0 x89 h19 y145 ff6 fs15 fc0 sc0 ls1 ws0">regis<span class="_ _0"></span>try</div><div class="t m0 x8e h18 y146 ff6 fs17 fc7 sc0 ls1 ws0">1. regis<span class="_ _0"></span>ter</div><div class="t m0 x8f h1a y147 ff6 fs18 fc7 sc0 ls1 ws0">3. lookup</div><div class="t m0 x90 h18 y148 ff6 fs17 fc7 sc0 ls1 ws0">2. call</div><div class="t m0 x49 h1b y149 ff6 fs19 fc0 sc0 ls1 ws0">Service M<span class="_ _0"></span>esh</div><div class="t m0 x74 h18 y14a ff6 fs17 fc7 sc0 ls1 ws0">4. forward</div><div class="t m0 x1b h15 y14b ff2 fs16 fc4 sc0 ls1 ws0">美中不足<span class="ffa">3</span>：说好的跨语言呢？<span class="fc7">可以自由选择，客户端<span class="_ _4"></span>完全不影响，而服务器端只需实现<span class="_ _4"></span>服务注册</span></div><div class="t m0 x39 hf y14c ff7 fs10 fc0 sc0 ls1 ws0">这只是一</div><div class="t m0 x39 hf y14d ff7 fs10 fc0 sc0 ls1 ws0">个简单的</div><div class="t m0 x39 hf y14e ff7 fs10 fc0 sc0 ls1 ws0">远程调用</div><div class="t m0 x91 h22 y14f ff3 fs10 fc7 sc0 ls1 ws0">从此，只需要一套<span class="ff4">Ser<span class="_ _6"></span>vice Mesh</span>，就可以满足所有语言，而且功能完全一致</div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf23" class="pf w0 h0" data-page-no="23"><div class="pc pc23 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg23.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x92 h33 y150 ffa fsc fc0 sc0 ls1 ws0">Node.js</div><div class="t m0 x6f h28 y151 ff3 fs1b fca sc0 ls1 ws0">引入<span class="ffc">Service Mesh</span>之后，应</div><div class="t m0 x6f h2a y152 ff3 fs1b fca sc0 ls1 ws0">用程序不必关注太多业务逻</div><div class="t m0 x6f h2a y153 ff3 fs1b fca sc0 ls1 ws0">辑之外的功能，一切转移给</div><div class="t m0 x6f h28 y154 ffc fs1b fca sc0 ls1 ws0">Service Mesh<span class="ff3">。</span></div><div class="t m0 x93 h34 y155 ffa fs1 fc0 sc0 ls1 ws0">Rust</div><div class="t m0 x25 h2a y156 ff3 fs1b fca sc0 ls1 ws0">充分发挥语言的特点，在最</div><div class="t m0 x25 h2a y157 ff3 fs1b fca sc0 ls1 ws0">擅长的领域表现优势，不必</div><div class="t m0 x25 h2a y158 ff3 fs1b fca sc0 ls1 ws0">和主流语言比拼生态的健全</div><div class="t m0 x25 h2a y159 ff3 fs1b fca sc0 ls1 ws0">程度，可以直接融入现有微</div><div class="t m0 x25 h2a y15a ff3 fs1b fca sc0 ls1 ws0">服务体系，缓解起跑线劣势</div><div class="t m0 x57 h33 y15b ffa fsc fc9 sc0 ls14 ws0">10%</div><div class="t m0 x94 h35 y15c ffa fsa fc9 sc0 ls11 ws0">75<span class="fs22 ls1">%</span></div><div class="t m0 x95 h36 y15d ffc fs23 fc0 sc0 ls1 ws0">Java/C/C++</div><div class="t m0 x84 h33 y15e ffa fsc fc9 sc0 ls14 ws0">15<span class="fs7 ls1">%</span></div><div class="t m0 x8 h33 y15f ffa fsc fc0 sc0 ls1 ws0">Golang</div><div class="t m0 x45 h2a y156 ff3 fs1b fca sc0 ls1 ws0">新兴小众语言的短板在于生态</div><div class="t m0 x45 h2a y157 ff3 fs1b fca sc0 ls1 ws0">不够丰富，在微服务领域未必</div><div class="t m0 x45 h2a y158 ff3 fs1b fca sc0 ls1 ws0">有足够的类库和框架支撑</div><div class="t m0 x12 h1c y2a ff2 fs16 fc4 sc0 ls1 ws0">对新兴小众语言是个极大利好</div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf24" class="pf w0 h0" data-page-no="24"><div class="pc pc24 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg24.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x12 h1c y2a ff2 fs16 fc4 sc0 ls1 ws0">更多资料</div><div class="t m0 x54 h11 y63 ff2 fs12 fcb sc0 ls1 ws0">WHA<span class="_ _c"></span>T<span class="_ _4"></span>’S <span class="_ _9"></span>A SERVICE <span class="_ _9"></span>MESH? AND <span class="_ _0"></span>WHY DO <span class="_ _0"></span>I NEED <span class="_ _9"></span>ONE?</div><div class="t m0 x91 h12 yc9 ff4 fs13 fc6 sc0 ls1 ws0">Willian Morgen<span class="ff3">对</span>Ser<span class="_ _4"></span>vice Mesh<span class="ff3">的解释，以及为什么云原生应用需要</span>Ser<span class="_ _4"></span>vice <span class="_ _9"></span>Me<span class="_ _4"></span>sh </div><div class="t m0 x6 h11 y160 ff1 fs12 fcb sc0 ls1 ws0">P<span class="_ _9"></span>attern: <span class="_ _9"></span>Ser<span class="_ _7"></span>vice <span class="_ _9"></span>Mesh</div><div class="t m0 x91 h14 y161 ff3 fs15 fc6 sc0 ls2 ws0">来自<span class="ff4 ls1">Phil <span class="ff3">Calçado</span></span>的博客文章，详细解释了<span class="ff4 ls1">Ser<span class="_ _4"></span>vice <span class="_ _9"></span>Mesh<span class="_ _4"></span><span class="ff3 ls2">的由来，强烈推荐阅读。</span></span></div><div class="t m0 x91 h12 y162 ff3 fs13 fc6 sc0 ls1 ws0">注：本文引用了来自该文的大量图片，节约了大量画图的时间，特别鸣谢</div><div class="t m0 x39 h11 y163 ff2 fs12 fcb sc0 ls1 ws0">万字解读<span class="ff1">:Ser<span class="_ _4"></span>vice <span class="_ _9"></span>Mesh<span class="ff2">服务网格新生代</span><span class="ls15">--<span class="_ _9"></span><span class="ls1">Istio</span></span></span></div><div class="t m0 x54 h12 y164 ff3 fs13 fc6 sc0 ls1 ws0">今年<span class="ff4">9</span>月<span class="ff4 ls6">21</span>号我的线上分享，对<span class="ff4">istio</span><span class="ls4">进行了详细介绍，想了解更多</span><span class="ff4">istio</span><span class="ls4">细节的朋友可以看看</span></div><div class="t m0 x39 h11 y165 ff1 fs12 fcb sc0 ls1 ws0">Ser<span class="_ _6"></span>viceMesh<span class="ff2">中文网（<span class="_ _9"></span><span class="ff1">ser<span class="_ _6"></span>vicemesh.cn<span class="ff2">）</span></span></span></div><div class="t m0 x54 h12 y166 ff4 fs13 fc6 sc0 ls1 ws0">Ser<span class="_ _4"></span>viceMesh<span class="ff3">中文技术交流网站。</span></div><div class="t m0 x54 h12 y167 ff4 fs13 fc6 sc0 ls1 ws0">Ser<span class="_ _4"></span>vice Mesh<span class="ff3">微信交流群，请联系微信</span>ID xiaoshu062 <span class="_ _9"></span><span class="ff3">申请加入。</span></div></div><a class="l" target="_blank" rel="noopener" href="https://buoyant.io/2017/04/25/whats-a-service-mesh-and-why-do-i-need-one/"><div class="d m2" style="border-style:none;position:absolute;left:125.623594px;bottom:291.782054px;width:527.960000px;height:18.960000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" target="_blank" rel="noopener" href="http://philcalcado.com/2017/08/03/pattern_service_mesh.html"><div class="d m2" style="border-style:none;position:absolute;left:127.873032px;bottom:227.605599px;width:204.390000px;height:19.560000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzA3MDg4Nzc2NQ==&amp;mid=2652136078&amp;idx=1&amp;sn=b261631ffe4df0638c448b0c71497021&amp;chksm=84d532b4b3a2bba2c1ed22a62f4845eb9b6f70f92ad9506036200f84220d9af2e28639a22045&amp;mpshare=1&amp;scene=1&amp;srcid=0922JYb4MpqpQCauaT9B4Xrx&amp;pass_ticket=DQ%2B13yxFroDiLJgSF3xOEOhvowBRom2sE4accBhVABdFMCE9q3EC/FqN6fLNDggP#rd"><div class="d m2" style="border-style:none;position:absolute;left:129.222694px;bottom:148.860285px;width:392.450000px;height:20.160000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" target="_blank" rel="noopener" href="http://servicemesh.cn/"><div class="d m2" style="border-style:none;position:absolute;left:129.312672px;bottom:82.254436px;width:355.730000px;height:20.160000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
<div id="pf25" class="pf w0 h0" data-page-no="25"><div class="pc pc25 w0 h0"><img class="bi x0 y0 w1 h0" alt="" src="/img/wiki-service-mesh/bg25.jpg"><div class="c x0 y0 w2 h0"><div class="t m0 x5 h37 y168 ff3 fs24 fc4 sc0 ls2 ws0">谢谢！</div></div></div><div class="pi" data-data="{&quot;ctm&quot;:[0.749813,0.000000,0.000000,0.749813,0.000000,0.000000]}"></div></div>
</div>

<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/61901608">什么是 Service Mesh</a></li>
</ul>
</div><!--!--><div><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6757924689439593" crossOrigin="anonymous"></script><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6757924689439593" data-ad-slot="2352785969"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div><script src="/js/pdf2htmlex.js"></script></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/pages/hybrid-deploy-bytedance/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">字节跳动的在离线混部技术</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/pages/wiki-dev-of-file-system/"><span class="level-item">一文了解文件系统的发展：从单机到分布式</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--><div style="width:100%"><script src="https://giscus.app/client.js" data-repo="thetechstack/thetechstack.github.io" data-repo-id="R_kgDOG6Ti1Q" data-category="Announcements" data-category-id="DIC_kwDOG6Ti1c4COQtm" data-mapping="pathname" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="zh-CN" crossOrigin="anonymous" async></script></div></div><!--!--><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen  order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#参考链接"><span class="level-left"><span class="level-item">1</span><span class="level-item">参考链接</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/CPython/"><span class="tag">CPython</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Feed%E6%9C%8D%E5%8A%A1/"><span class="tag">Feed服务</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Knative/"><span class="tag">Knative</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Kubernetes/"><span class="tag">Kubernetes</span><span class="tag">25</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux%E7%BD%91%E7%BB%9C/"><span class="tag">Linux网络</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RPC/"><span class="tag">RPC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Serverless/"><span class="tag">Serverless</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Yarn/"><span class="tag">Yarn</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%80%E8%87%B4%E6%80%A7/"><span class="tag">分布式一致性</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%9C%A8%E7%A6%BB%E7%BA%BF%E6%B7%B7%E9%83%A8/"><span class="tag">在离线混部</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/"><span class="tag">大数据</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97/"><span class="tag">时间序列</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%99%BA%E8%83%BD%E8%BF%90%E7%BB%B4/"><span class="tag">智能运维</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BC%93%E5%AD%98/"><span class="tag">缓存</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/"><span class="tag">编译原理</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BD%91%E7%BB%9C%E8%99%9A%E6%8B%9F%E5%8C%96/"><span class="tag">网络虚拟化</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/"><span class="tag">虚拟机</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%AF%AD%E8%A8%80%E7%89%B9%E6%80%A7/"><span class="tag">语言特性</span><span class="tag">2</span></a></div></div></div></div></div><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.jpg"></figure><p class="is-size-6 is-block">公众号：面向问题编程</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">72</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">5</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">19</p></a></div></div></nav></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/%E4%B8%80%E6%96%87%E4%BA%86%E8%A7%A3/"><span class="level-start"><span class="level-item">一文了解</span></span><span class="level-end"><span class="level-item tag">33</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/"><span class="level-start"><span class="level-item">技术实践</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84/"><span class="level-start"><span class="level-item">技术架构</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/%E7%BB%BC%E8%BF%B0/"><span class="level-start"><span class="level-item">综述</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E9%97%AE%E9%A2%98/"><span class="level-start"><span class="level-item">问题</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="面向问题编程" height="28"></a><p class="is-size-7"><span>&copy; 2022 面向问题编程</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom@1.3.0/dist/lg-zoom.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>